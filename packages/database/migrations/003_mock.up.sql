-- Realistic mock dataset for local development with Japanese product names
SELECT setseed(0.42);

-- Mock stores with realistic Japanese chain names and Tokyo addresses
WITH store_chains AS (
    SELECT ARRAY[
        'セブン-イレブン',
        'ファミリーマート',
        'ローソン',
        'ミニストップ',
        'デイリーヤマザキ',
        'イオン',
        'マルエツ',
        '西友',
        'ライフ',
        'サミット'
    ] AS names
),
tokyo_wards AS (
    SELECT ARRAY[
        '千代田区', '中央区', '港区', '新宿区', '文京区', '台東区', '墨田区', '江東区',
        '品川区', '目黒区', '大田区', '世田谷区', '渋谷区', '中野区', '杉並区', '豊島区',
        '北区', '荒川区', '板橋区', '練馬区', '足立区', '葛飾区', '江戸川区'
    ] AS names
),
town_names AS (
    SELECT ARRAY[
        '神宮前', '代々木', '西新宿', '新宿', '渋谷', '恵比寿', '六本木', '赤坂', '青山',
        '銀座', '丸の内', '日本橋', '上野', '浅草', '池袋', '新橋', '有楽町', '表参道',
        '原宿', '代官山', '中目黒', '自由が丘', '吉祥寺', '三軒茶屋', '下北沢'
    ] AS names
)
INSERT INTO stores (name, address, phone, location)
SELECT
    (SELECT names[(gs % array_length(names, 1)) + 1] FROM store_chains) || ' ' ||
    (SELECT names[(gs % array_length(names, 1)) + 1] FROM tokyo_wards) || '店',
    '東京都' ||
    (SELECT names[(gs % array_length(names, 1)) + 1] FROM tokyo_wards) ||
    (SELECT names[(gs % array_length(names, 1)) + 1] FROM town_names) ||
    (1 + (gs % 5))::text || '-' || (1 + (gs % 30))::text || '-' || (1 + (gs % 20))::text,
    '03-' || lpad(((1000 + (gs % 9000))::text), 4, '0') || '-' || lpad(((1000 + (gs % 9000))::text), 4, '0'),
    ST_SetSRID(
        ST_MakePoint(
            139.60 + random() * 0.40,
            35.55 + random() * 0.40
        ),
        4326
    )::geography
FROM generate_series(1, 1000) gs;

-- Mock products with realistic Japanese product names
WITH product_data AS (
    SELECT * FROM (VALUES
        -- 飲料 (Beverages)
        ('コカ・コーラ 500ml', '飲料', '4902102072557'),
        ('ペプシコーラ 500ml', '飲料', '4902102118236'),
        ('いろはす天然水 555ml', '飲料', '4902102119370'),
        ('お〜いお茶 緑茶 525ml', '飲料', '4901085062357'),
        ('爽健美茶 600ml', '飲料', '4902102118908'),
        ('ポカリスエット 500ml', '飲料', '4987035509011'),
        ('カルピスウォーター 500ml', '飲料', '4902768621303'),
        ('オレンジジュース 1L', '飲料', '4901777282292'),
        ('りんごジュース 1L', '飲料', '4901777283008'),
        ('午後の紅茶 ミルクティー 500ml', '飲料', '4901085190326'),
        ('三ツ矢サイダー 500ml', '飲料', '4902102075282'),
        ('ファンタ グレープ 500ml', '飲料', '4902102115889'),
        ('緑茶 伊右衛門 525ml', '飲料', '4901085185940'),
        ('烏龍茶 500ml', '飲料', '4902102119066'),
        ('ジンジャーエール 500ml', '飲料', '4902102119752'),

        -- 食品 (Food Staples)
        ('白米 コシヒカリ 5kg', '食品', '4902110320015'),
        ('玄米 5kg', '食品', '4902110321012'),
        ('スパゲッティ 1.6mm 500g', '食品', '4902110329018'),
        ('冷凍うどん 3食入り', '食品', '4901520130016'),
        ('そば 3食入り', '食品', '4901520130092'),
        ('カップヌードル', '食品', '4902105001004'),
        ('チキンラーメン 5食パック', '食品', '4902105260036'),
        ('カップヌードル シーフード', '食品', '4902105001110'),
        ('どん兵衛 きつねうどん', '食品', '4902105236017'),
        ('赤いきつね うどん', '食品', '4901071201050'),

        -- 乳製品 (Dairy)
        ('明治おいしい牛乳 1L', '乳製品', '4902705010017'),
        ('低脂肪牛乳 1L', '乳製品', '4902705012011'),
        ('ヨーグルト ブルガリア 400g', '乳製品', '4902705010345'),
        ('スライスチーズ 7枚入り', '乳製品', '4902705010529'),
        ('バター 200g', '乳製品', '4902705010703'),
        ('モッツァレラチーズ 100g', '乳製品', '4902705011205'),
        ('クリームチーズ 200g', '乳製品', '4902705011304'),
        ('飲むヨーグルト 500ml', '乳製品', '4902705010451'),
        ('カッテージチーズ 200g', '乳製品', '4902705011502'),
        ('生クリーム 200ml', '乳製品', '4902705011601'),

        -- パン (Bread)
        ('食パン 6枚切り', 'パン', '4901620100018'),
        ('食パン 8枚切り', 'パン', '4901620100025'),
        ('クロワッサン 4個入り', 'パン', '4901620102012'),
        ('メロンパン', 'パン', '4901620103019'),
        ('あんぱん', 'パン', '4901620104016'),
        ('クリームパン', 'パン', '4901620105013'),
        ('カレーパン', 'パン', '4901620106010'),
        ('チョコパン', 'パン', '4901620107017'),
        ('ロールパン 6個入り', 'パン', '4901620108014'),
        ('フランスパン', 'パン', '4901620109011'),

        -- 生鮮食品 (Fresh Produce & Meat)
        ('りんご 3個入り', '生鮮食品', '2100000000011'),
        ('バナナ 1房', '生鮮食品', '2100000000028'),
        ('みかん 5個入り', '生鮮食品', '2100000000035'),
        ('トマト 3個入り', '生鮮食品', '2100000000042'),
        ('きゅうり 2本', '生鮮食品', '2100000000059'),
        ('レタス 1個', '生鮮食品', '2100000000066'),
        ('キャベツ 1個', '生鮮食品', '2100000000073'),
        ('たまねぎ 3個', '生鮮食品', '2100000000080'),
        ('じゃがいも 3個', '生鮮食品', '2100000000097'),
        ('にんじん 3本', '生鮮食品', '2100000000103'),
        ('鶏もも肉 300g', '生鮮食品', '2200000000010'),
        ('豚バラ肉 300g', '生鮮食品', '2200000000027'),
        ('牛肉切り落とし 200g', '生鮮食品', '2200000000034'),
        ('さんま 2尾', '生鮮食品', '2300000000019'),
        ('さけ切り身 2切れ', '生鮮食品', '2300000000026'),
        ('たまご 10個入り', '生鮮食品', '2100000000110'),
        ('ぶどう 1房', '生鮮食品', '2100000000127'),
        ('いちご 1パック', '生鮮食品', '2100000000134'),
        ('なす 3本', '生鮮食品', '2100000000141'),
        ('ピーマン 3個', '生鮮食品', '2100000000158'),

        -- 調味料 (Seasonings)
        ('キッコーマン しょうゆ 1L', '調味料', '4901515120015'),
        ('みりん 500ml', '調味料', '4901515121012'),
        ('料理酒 500ml', '調味料', '4901515122019'),
        ('米酢 500ml', '調味料', '4901515123016'),
        ('食塩 1kg', '調味料', '4902870050016'),
        ('上白糖 1kg', '調味料', '4902870051013'),
        ('味の素 みそ 750g', '調味料', '4901001010011'),
        ('キューピーマヨネーズ 400g', '調味料', '4901577010019'),
        ('ケチャップ 500g', '調味料', '4901520130115'),
        ('ウスターソース 500ml', '調味料', '4901515124013'),
        ('オリーブオイル 400ml', '調味料', '4902870052010'),
        ('ごま油 400ml', '調味料', '4902870053017'),
        ('本みりん 1L', '調味料', '4901515121029'),
        ('白だし 500ml', '調味料', '4901515125010'),
        ('めんつゆ 500ml', '調味料', '4901515126017'),

        -- スナック (Snacks)
        ('カルビー ポテトチップス うすしお味 60g', 'スナック', '4901330500016'),
        ('カルビー ポテトチップス コンソメパンチ 60g', 'スナック', '4901330500023'),
        ('明治ミルクチョコレート 50g', 'スナック', '4902777030012'),
        ('オレオクッキー 18枚入り', 'スナック', '4901330500047'),
        ('森永ビスケット 15枚入り', 'スナック', '4902777040011'),
        ('じゃがりこ サラダ', 'スナック', '4901330500054'),
        ('プリッツ サラダ', 'スナック', '4901330500061'),
        ('ポッキー チョコレート', 'スナック', '4901330500078'),
        ('亀田の柿の種 200g', 'スナック', '4901313001011'),
        ('堅あげポテト うすしお味', 'スナック', '4901330500085'),

        -- 冷凍食品 (Frozen Foods)
        ('味の素 冷凍餃子 12個入り', '冷凍食品', '4901001010028'),
        ('冷凍チャーハン 450g', '冷凍食品', '4901001020027'),
        ('冷凍さぬきうどん 3食入り', '冷凍食品', '4901520130139'),
        ('ピザ マルゲリータ', '冷凍食品', '4901520130146'),
        ('ハーゲンダッツ バニラ', '冷凍食品', '4902878711013'),
        ('冷凍ハンバーグ 4個入り', '冷凍食品', '4901001020034'),
        ('冷凍エビフライ 6個入り', '冷凍食品', '4901001020041'),
        ('冷凍たこ焼き 20個入り', '冷凍食品', '4901001020058'),
        ('冷凍枝豆 300g', '冷凍食品', '4901001020065'),
        ('冷凍ブルーベリー 150g', '冷凍食品', '4901001020072'),

        -- 日用品 (Daily Necessities)
        ('トイレットペーパー 12ロール', '日用品', '4902011700015'),
        ('エリエール ティッシュ 5箱', '日用品', '4902011700022'),
        ('アタック 洗濯洗剤 詰替 1.5L', '日用品', '4901301010018'),
        ('ジョイ 食器用洗剤 400ml', '日用品', '4902430100014'),
        ('ラックス シャンプー 400ml', '日用品', '4902111010015'),
        ('ダヴ ボディソープ 400ml', '日用品', '4902111020014'),
        ('キレイキレイ ハンドソープ 250ml', '日用品', '4901617010012'),
        ('クリネックス ティッシュ 5箱', '日用品', '4901750010019'),
        ('スコッティ トイレットペーパー 12ロール', '日用品', '4901750020018'),
        ('ファブリーズ 消臭スプレー 370ml', '日用品', '4902430100021'),

        -- ベビー (Baby Products)
        ('パンパース おむつ Mサイズ 80枚', 'ベビー', '4902430100038'),
        ('ムーニー おしりふき 80枚×3個', 'ベビー', '4903111100019'),
        ('明治 ほほえみ 粉ミルク 800g', 'ベビー', '4902705100014'),
        ('和光堂 ベビーフード 7ヶ月〜 80g', 'ベビー', '4987244100016'),
        ('メリーズ おむつ Lサイズ 64枚', 'ベビー', '4901301100012'),
        ('グーン おむつ Sサイズ 84枚', 'ベビー', '4902011100011'),
        ('ピジョン 哺乳瓶 240ml', 'ベビー', '4902508100015'),
        ('赤ちゃん本舗 おしりふき 80枚×6個', 'ベビー', '4580100100010'),
        ('明治 ステップ フォローアップミルク 800g', 'ベビー', '4902705100021'),
        ('キユーピー ベビーフード 9ヶ月〜 100g', 'ベビー', '4901577100016')
    ) AS t(name, category, barcode)
)
INSERT INTO products (name, category, barcode)
SELECT name, category, barcode FROM product_data;

-- Add more variety by creating size/flavor variations
INSERT INTO products (name, category, barcode)
SELECT
    p.name || ' ' || CASE
        WHEN gs % 3 = 0 THEN '大容量パック'
        WHEN gs % 3 = 1 THEN 'お買い得'
        ELSE 'レギュラー'
    END,
    p.category,
    p.barcode || gs::text
FROM products p
CROSS JOIN generate_series(1, 20) gs
WHERE p.id <= 110 AND random() > 0.8;

-- Mock prices with realistic price ranges by category
WITH store_ids AS (
    SELECT array_agg(id ORDER BY id) AS ids
    FROM stores
),
product_ids AS (
    SELECT array_agg(id ORDER BY id) AS ids
    FROM products
),
counts AS (
    SELECT
        array_length(store_ids.ids, 1) AS store_count,
        array_length(product_ids.ids, 1) AS product_count
    FROM store_ids, product_ids
)
INSERT INTO prices (store_id, product_id, price, currency, recorded_at)
SELECT
    store_ids.ids[((gs - 1) % counts.store_count) + 1],
    product_ids.ids[((gs * 7 - 1) % counts.product_count) + 1],
    CASE
        -- Beverages: 80-200 yen
        WHEN p.category = '飲料' THEN round((80 + random() * 120)::numeric, 2)
        -- Food staples: 200-2000 yen
        WHEN p.category = '食品' THEN round((200 + random() * 1800)::numeric, 2)
        -- Dairy: 150-500 yen
        WHEN p.category = '乳製品' THEN round((150 + random() * 350)::numeric, 2)
        -- Bread: 100-300 yen
        WHEN p.category = 'パン' THEN round((100 + random() * 200)::numeric, 2)
        -- Fresh produce: 100-1500 yen
        WHEN p.category = '生鮮食品' THEN round((100 + random() * 1400)::numeric, 2)
        -- Seasonings: 200-800 yen
        WHEN p.category = '調味料' THEN round((200 + random() * 600)::numeric, 2)
        -- Snacks: 100-300 yen
        WHEN p.category = 'スナック' THEN round((100 + random() * 200)::numeric, 2)
        -- Frozen foods: 200-600 yen
        WHEN p.category = '冷凍食品' THEN round((200 + random() * 400)::numeric, 2)
        -- Daily necessities: 150-1500 yen
        WHEN p.category = '日用品' THEN round((150 + random() * 1350)::numeric, 2)
        -- Baby products: 500-3000 yen
        WHEN p.category = 'ベビー' THEN round((500 + random() * 2500)::numeric, 2)
        ELSE round((50 + random() * 1950)::numeric, 2)
    END,
    'JPY',
    NOW() - (gs * interval '1 second')
FROM generate_series(1, 200000) gs
CROSS JOIN store_ids
CROSS JOIN product_ids
CROSS JOIN counts
CROSS JOIN products p
WHERE p.id = product_ids.ids[((gs * 7 - 1) % counts.product_count) + 1];
